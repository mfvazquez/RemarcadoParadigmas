clc;
clear all;
close all;

%micromed_time=micromed_time-micromed_time(1,1);
% micromed_time=micromed_time(1,5:end);

micromed_time=[0 0.750000000000000 1.83398437500000 2.83398437500000 3.91796875000000 4.70117187500000 5.78613281250000 6.55175781250000 7.61816406250000 8.43457031250000 9.51953125000000 10.4863281250000 11.5693359375000 12.7197265625000 13.8037109375000 14.6865234375000 15.7695312500000 16.7529296875000 17.8359375000000 18.7363281250000 19.8193359375000 20.8378906250000 21.9033203125000 22.9199218750000 24.0205078125000 25.1718750000000 26.2539062500000 27.1376953125000 28.2216796875000 29.3378906250000 30.4052734375000 31.5371093750000 32.6054687500000 33.6005859375000 34.6884765625000 35.7792968750000 36.2089843750000 37.1757812500000 38.2763671875000 39.8408203125000 40.9433593750000 42.1103515625000 43.2109375000000 45.6396484375000 46.7216796875000 48.0390625000000 49.1220703125000 50.5615234375000 51.6201171875000 52.5878906250000 53.6953125000000 54.5205078125000 55.6289062500000 56.5693359375000 57.6787109375000 58.8779296875000 59.9355468750000 61.3955078125000 61.4257812500000 62.4619140625000 63.8457031250000 64.9287109375000 65.7851562500000 66.8691406250000 67.8125000000000 68.8671875000000 70.2626953125000 71.3007812500000 72.2343750000000 73.3173828125000 75.0292968750000 76.0849609375000 77.2294921875000 78.2685546875000 79.1845703125000 80.2792968750000 81.0800781250000 82.1181640625000 82.1484375000000 83.1005859375000 84.2138671875000 85.2841796875000 86.3974609375000 87.3173828125000 88.4306640625000 89.8808593750000 90.9179687500000 92.0683593750000 92.1289062500000 93.1816406250000 93.9853515625000 95.0986328125000 96.2021484375000 97.3154296875000 97.3457031250000 98.2988281250000 99.3359375000000 100.794921875000 101.835937500000 103.370117187500 104.436523437500 105.120117187500 106.216796875000 110.187500000000 110.487304687500 111.600585937500 112.937500000000 114.021484375000 118.051757812500 118.635742187500 119.671875000000 120.568359375000 121.605468750000 122.168945312500 123.251953125000 124.272460937500 125.338867187500 126.502929687500 127.555664062500 129.105468750000 130.172851562500 131.903320312500 132.940429687500 134.090820312500 135.157226562500 136.587890625000 137.624023437500 138.521484375000 139.587890625000 140.839843750000 141.938476562500 143.038085937500 144.122070312500 144.988281250000 187.030273437500 187.896484375000 188.494140625000 189.376953125000 189.914062500000 190.647460937500 191.213867187500 192.081054687500 192.678710937500 193.864257812500 194.431640625000 197.961914062500 199.681640625000 200.248046875000 203.048828125000 203.646484375000 205.032226562500 205.629882812500 209.098632812500 212.599609375000 212.863281250000 225.632812500000 226.718750000000 227.816406250000 228.685546875000 229.799804687500 231.033203125000 232.117187500000 233.769531250000 234.853515625000 238.870117187500 240.666992187500 241.704101562500 243.118164062500 244.185546875000 245.468750000000 246.552734375000 247.551757812500 248.619140625000 250.854492187500 251.921875000000 253.004882812500 254.088867187500 255.789062500000 256.872070312500 256.903320312500 259.003906250000 260.086914062500 261.006835937500 262.089843750000 263.621093750000 264.656250000000 266.073242187500 267.140625000000 268.188476562500 269.272460937500 271.441406250000 272.524414062500 273.522460937500 274.589843750000 275.641601562500 276.739257812500 277.839843750000 278.875000000000 280.359375000000 281.457031250000 282.707031250000 283.759765625000 284.806640625000 285.892578125000 287.324218750000 288.391601562500 289.958007812500 291.025390625000 292.241210937500 293.308593750000 294.308593750000 295.342773437500 296.309570312500 297.375976562500 298.411132812500 299.526367187500 300.426757812500 301.509765625000 302.592773437500 303.676757812500 305.043945312500 306.110351562500 307.577148437500 308.643554687500 309.510742187500 310.577148437500 311.746093750000 312.843750000000 314.210937500000 315.278320312500 316.296875000000 317.379882812500 318.830078125000 319.930664062500 321.480468750000 322.546875000000 323.814453125000 324.929687500000 325.996093750000 327.031250000000 328.776367187500 329.848632812500 330.948242187500 332.046875000000 333.298828125000 334.414062500000 335.732421875000 336.829101562500 338.047851562500 339.080078125000 340.533203125000 341.599609375000 342.516601562500 343.583984375000 344.565429687500 345.648437500000 346.832031250000 347.916015625000 348.984375000000 350.083007812500 351.767578125000 352.882812500000 354.383789062500 355.483398437500 356.966796875000 358.001953125000 359.168945312500 360.235351562500 361.250976562500 362.317382812500 363.552734375000 364.619140625000 365.467773437500 366.502929687500 367.618164062500 368.653320312500 369.603515625000 370.718750000000 371.836914062500 372.935546875000 373.786132812500 374.902343750000 375.770507812500 376.853515625000 377.687500000000 378.754882812500 379.771484375000 384.058593750000 398.108398437500 399.024414062500 402.763671875000 402.949218750000;];

a={780567.751425517 780569.601054117 780571.684542753 780573.551480682 780575.401564284 780577.285093973 780579.335345635 780581.568851590 780583.535912677 780585.602759093 780587.586397400 780589.669915970 780591.753496975 780593.987148752 780595.937345678 780598.120913426 780600.337586436 780602.404752721 780604.738339926 780606.788539845 780609.438822297 780611.672349633 780615.206116017 780617.589581133 780620.073316513 780622.106949047 780624.023818341 780626.057234921 780628.324266929 780630.841240993 780633.308092540 780635.274941521 780637.275181851 780639.725583613 780641.742462742 780644.492658385 780646.692876906 780648.693231842 780650.560115033 780652.610336334 780654.793743719 780656.810691698 780659.327755137 780661.544723642 780663.461409481 780665.678473348 780667.745331309 780670.245597725 780672.845812825 780674.612671214 780678.629912121 780679.996742714 780682.430329064 780686.430705809 780688.080839017 780690.014355663 780691.631345549 780693.748250337 780695.965032821 780698.598475914 780701.382308367 780703.615985803 780706.099578781 780708.033001775 780710.399999572 780712.583694755;};
b={0.844638542621397 1.06762171525043 0.850559986312874 0.834047339041717 0.883944065542892 1.03400799678639 1.21760952763725 0.950889691943303 1.05089610640425 0.967163719586097 1.08412923093420 1.08393422991503 1.21751844172832 0.950563407270238 1.18385811115149 1.20090957684442 1.06738395092543 1.31758985645138 1.03412944474258 1.65072847390547 1.23427441250533 2.53445145289879 1.38400478940457 1.48408775043208 1.03400414797943 0.917429066263139 1.03382881823927 1.26739421417005 1.50094763620291 1.45067159866449 0.950696401530877 0.983989394619130 1.43427141907159 1.00061322678812 1.75101755443029 1.18399538157973 0.983992815716192 0.867405332624912 1.05060103919823 1.16765207727440 1.01755735639017 1.51743975712452 1.21751117182430 0.900640167645179 1.20085441204719 1.05062284856103 1.50052214076277 1.60063974000514 0.750884560286067 3.00143128994387 0.367281746468507 1.43405033252202 3.00141332927160 0.650853343075141 0.933968654484488 0.600570035632700 1.11740853986703 1.20055635145400 1.61723192711361 1.76737069431692 1.21736876980867 1.46717569325119 0.934025529772043 1.35079005325679 1.16735786525533 0.933933588443324;};

n={1.20096431393176,0.967161153792404,1.30088007007726,1.75097094231751,3.00131967756897,1.83394000295084,1.45071949379053,1.35058906534687,1.06737197714392,2.33416322770063,1.15076610574033,1.76761187962256,2.16745365527459,1.01757916563656,1.56745750398841,1.48406551347580,1.08396501955576,2.26752934639808,1.03413585922681,1.15080159937497,1.16722145013046,1.55095896846615,1.31760824483354,1.11708482110407,1.46719108812977,1.63423806370702,1.28417156671640,1.06716414715629,1.00066625326872,1.13414911588188,0.967365134973079,1.15078406629618,1.43408881954383,1.53414227371104,0.934071286465041,1.26759349147324,1.43397549656220,1.11747439543251,1.51725074311253,1.63416108954698,1.33427569537889,1.13412730651908,1.81768778467085,1.16737454291433,1.35053603886627,1.41706258419435,1.28403301339131,1.51741238858085,0.983985973638482,1.01742650044616,1.25086831022054,1.16720135125797,1.78405311203096,1.60073039832059,1.55070067779161,1.23423891898710,1.05070709227584,1.33407941157930,0.884189099655487,1.15066475665662,1.01728452614043,1.21735765144695,0.950707947486080,0.967402339098044,0.900451581226662,1.08400436188094;};
m={781140.048790011,781142.248508628,781144.215320832,781146.515639847,781149.265958648,781153.266387137,781156.116569950,781158.583641301,781160.933882700,781163.000680365,781166.351169792,781168.501103723,781171.284930616,781174.451836045,781176.468848169,781179.052471081,781181.552898715,781183.636348436,781186.903510445,781188.953555988,781191.120533259,781193.304278475,781195.854489512,781198.171334431,781200.305008018,781202.788447476,781205.422057346,781207.705829075,781209.789379290,781211.806234899,781213.939854605,781215.906619770,781218.056782057,781220.490583079,781223.024275909,781224.974440334,781227.241201651,781229.674905600,781231.808368791,781234.325410422,781236.975734782,781239.309352349,781241.459621972,781244.276471595,781246.460073125,781248.810448802,781251.244052257,781253.527649939,781256.044406765,781258.028143428,781260.045036242,781262.295277214,781264.461972674,781267.262511493,781269.862780902,781272.429778700,781274.679879407,781276.746900297,781279.080450298,781280.964050974,781283.130946995,781285.164378541,781287.398177425,781289.364937031,781291.348553529,781293.265409994;};

c=cell2mat(a);
d=cell2mat(b);

o=cell2mat(m);
p=cell2mat(n);

o=(o-o(1,1))+225.632812500000;
c=(c-c(1,1));

c(19)=36.2089843750000;
c(20)=38.2763671875000;
c(21)=40.9433593750000;
c(22)=43.2109375000000;
c(23)=46.7216796875000;
c(24)=49.1220703125000;
c(25)=51.6201171875000;
c(26)=53.6953125000000;
c(27)=55.6289062500000;
c(28)=57.6787109375000;
c(29)=59.9355468750000; 
c(30)=62.4619140625000;
c(31)=64.9287109375000;
c(32)=66.8691406250000; 
c(33)=68.8671875000000 ; 
c(34)=71.3007812500000  ;
c(35)=73.3173828125000;
c(36)=76.0849609375000;
c(37)=78.2685546875000; 
c(38)=80.2792968750000; 
c(39)=82.1181640625000;
c(40)=84.2138671875000;
c(41)=86.3974609375000;
c(42)=88.4306640625000;
c(43)=90.9179687500000;
c(44)=93.1816406250000;
c(45)=95.0986328125000;
c(46)=97.3154296875000;
c(47)=99.3359375000000;
c(48)=101.835937500000;
c(49)=104.436523437500;
c(50)=106.216796875000;
c(51)=110.187500000000;
c(52)=111.600585937500;
c(53)=114.021484375000;
c(54)=118.051757812500;
c(55)=119.671875000000;
c(56)=121.605468750000;
c(57)=123.251953125000;
c(58)=125.338867187500;
c(59)=127.555664062500;
c(60)=130.172851562500;
c(61)=132.940429687500;
c(62)=135.157226562500;
c(63)=137.624023437500;
c(64)=139.587890625000;
c(65)=141.938476562500;
c(66)=144.122070312500;

o(65)=376.853515625000;
o(66)=378.754882812500;

for i=1:length(c)
   
    f(1,i)=c(1,i)+d(1,i);
    q(1,i)=o(1,i)+p(1,i);
end

stimuli_time=horzcat(c,o);
response_time=horzcat(f,q);

for i=1:length(stimuli_time);
    times{1, i} = stimuli_time(1,i);
    times{2, i} = response_time(1,i);
end

save('log_times', 'times');


% plot([micromed_time;micromed_time],[-100;0],'r')
% hold on   
% 
% plot([f;f],[0;100],'g')
% hold on  
% 
% plot([c;c],[0;100],'b')
% hold on   
% 
% plot([q;q],[0;100],'g')
% hold on  
% 
% plot([o;o],[0;100],'b')
% hold on   
 